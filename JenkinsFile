pipeline {
    agent any

    stages {
        stage('Read File From Workspace') {
            steps {
                sh 'pwd'
                sh 'ls -log'
            }
        }
        stage('check if File Exist'){
            steps{
                script{
                    def workingDirectory = pwd();
                    def directoryName = workingDirectory + '/src/main/resources';
                    def op = sh(script: "ls /${directoryName} -log",returnStdout: true).trim()
                    print(op)
                    def fileNames = op.split(/[\n\s]+/)
                    fileNames.each { fileName ->
                                            if (fileName) { // Check if filename is not empty
                                                println("Filename: ${fileName}")
                                            }
                                        }
                    print(fileNames)
                }
            }
        }
    }
}
