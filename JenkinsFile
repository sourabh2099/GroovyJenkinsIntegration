pipeline {
    agent any

    stages {
        stage('check if File Exist'){
            steps{
                script{
                    def directoryName = pwd() + '/src/main/resources';
                    def fileNames = sh(script: "ls /${directoryName} -log",returnStdout: true).trim().split(/[\n\s]+/)
                    fileNames.each{ fileName ->
                                            if (fileName && fileName =~ /.*\.json.*/) { // Check if filename is not empty
                                                 def path = directoryName + "/" + fileName
                                                 def fileData = sh(script: "cat /${path}",returnStdout: true).trim()
                                                 print(fileData)
                                            }
                                   }
                }
            }
        }

    }
    }

