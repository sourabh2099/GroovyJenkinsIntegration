pipeline {
    agent any

    stages {
        stage('Read File From Workspace') {
            steps {
                sh 'pwd'
                sh 'ls -log'
            }
        }
        stage('check if File Exist'){
            steps{
                script{
                    def workingDirectory = pwd() + + '/src/main/resources';
                    def lsData = sh(script: "ls /${directoryName} -log",returnStdout: true).trim().split(/[\n\s]+/)
                    def fileNames = ["abc"]
                    lsData.each { data ->
                                            if (data =~ /.*\.json.*/) { // Check if filename is not empty
                                                println("Filename: ${data}")
//                                                 fileNames.add(data)
                                            }
                                        }
                    print(fileNames)
                }
            }
        }
    }
}
